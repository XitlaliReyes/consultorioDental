import{a as gt}from"./chunk-VZFNWSRJ.js";import{b as le,c as de,d as at,e as ct,f as pe,g as st,h as lt,j as me,k as ue,l as ge,m as dt,n as pt,o as mt,p as ut,q as X}from"./chunk-V6D4ZGTB.js";import{a as Y}from"./chunk-FPKY227V.js";import{$ as _,B as ze,Ba as Ye,Ca as ce,Da as H,Ea as Ge,Fa as Ze,Ga as Je,Ha as Ke,I as l,Ia as A,Ja as Qe,K as je,Ka as Xe,La as Q,Ma as ke,N as j,Na as et,O as S,Oa as se,Pa as tt,Ra as nt,S as b,Sa as F,Ta as it,U as Le,Ua as ot,V as Se,Va as R,Wa as rt,X as p,Y as c,Z as r,_ as K,a as Te,aa as h,ba as q,c as oe,ca as M,d as re,da as f,ea as We,f as D,fa as d,g as k,ga as C,ha as a,i as B,ia as x,j as Pe,ja as V,k as N,ka as He,l as W,la as E,m as z,ma as O,na as y,o as J,p as Ne,pa as Ue,qa as $,r as U,ra as De,sa as ae,t as Ae,ta as Be,u as ne,ua as qe,v,w as Fe,x as m,xa as $e,y as u,z as Re}from"./chunk-WYBMJEXJ.js";var ft='body[_ngcontent-%COMP%]{margin:0;font-family:Segoe UI,sans-serif;line-height:1.6;color:#333}.hero[_ngcontent-%COMP%]{background:linear-gradient(to right,#007bff,#00c6ff);color:#fff;padding:4rem 2rem;text-align:center}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:.5rem}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffe600}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}main[_ngcontent-%COMP%]{padding:2rem;max-width:1000px;margin:auto}section[_ngcontent-%COMP%]{margin-bottom:3rem}h2[_ngcontent-%COMP%]{color:#4d83bd;margin-bottom:1rem;font-size:1.6rem}ul[_ngcontent-%COMP%]{list-style:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1rem;position:relative}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2714";color:#007bff;position:absolute;left:0}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem}.grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#f9f9f9;padding:1.5rem;border-radius:.8rem;box-shadow:0 4px 10px #0000000d;transition:transform .2s ease}.grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}',fe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-nosotros"]],decls:56,vars:0,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"about"],[1,"services"],[1,"mission"],[1,"values"]],template:function(e,o){e&1&&(_(0,"html",0)(1,"head"),q(2,"meta",1)(3,"meta",2),_(4,"title"),a(5,"Nosotros - Consultorio Dental"),h()(),_(6,"body")(7,"main")(8,"section",3)(9,"h2"),a(10,"Sobre Nosotros"),h(),_(11,"p"),a(12," En "),_(13,"strong"),a(14,"Sonrisas Felices"),h(),a(15," nos dedicamos al cuidado integral de la salud bucal. Ofrecemos atenci\xF3n personalizada en nuestras instalaciones con un equipo de profesionales comprometidos en brindarte una experiencia c\xF3moda y segura. "),h(),_(16,"p"),a(17," Nuestro consultorio naci\xF3 en "),_(18,"strong"),a(19,"2025"),h(),a(20," con un modelo innovador de atenci\xF3n dental, garantizando servicio constante, acompa\xF1amiento a nuestros pacientes y capacitaci\xF3n continua de nuestro personal. "),h()(),_(21,"section",4)(22,"h2"),a(23,"\xBFQu\xE9 Hacemos?"),h(),_(24,"ul")(25,"li"),a(26,"Atenci\xF3n dental preventiva y correctiva."),h(),_(27,"li"),a(28,"Ortodoncia, est\xE9tica dental y blanqueamiento."),h(),_(29,"li"),a(30,"Tratamiento de enc\xEDas, caries y rehabilitaci\xF3n oral."),h(),_(31,"li"),a(32,"Asesor\xEDa personalizada para el cuidado de tu sonrisa."),h()()(),_(33,"section",5)(34,"h2"),a(35,"Misi\xF3n"),h(),_(36,"p"),a(37," Brindar atenci\xF3n dental de calidad, con calidez humana y tecnolog\xEDa de vanguardia, mejorando la salud y confianza de cada uno de nuestros pacientes. "),h(),_(38,"h2"),a(39,"Visi\xF3n"),h(),_(40,"p"),a(41," Ser un consultorio l\xEDder en servicios odontol\xF3gicos a nivel nacional, reconocido por su innovaci\xF3n, compromiso con la salud bucal y excelencia en la atenci\xF3n. "),h()(),_(42,"section",6)(43,"h2"),a(44,"Valores"),h(),_(45,"ul")(46,"li"),a(47,"Calidad"),h(),_(48,"li"),a(49,"Calidez"),h(),_(50,"li"),a(51,"Compromiso"),h(),_(52,"li"),a(53,"Confianza"),h(),_(54,"li"),a(55,"Pasi\xF3n por la salud dental"),h()()()()()())},styles:[ft,ft]})};var wt=(i,t)=>({confirmada:i,cancelada:t});function Et(i,t){i&1&&(c(0,"div",4),a(1," Cargando tus citas... "),r())}function Ot(i,t){if(i&1&&(c(0,"div",5),a(1),r()),i&2){let e=d();l(),V(" ",e.error," ")}}function yt(i,t){i&1&&(c(0,"div",4)(1,"p"),a(2,"No tienes citas agendadas. \xA1Agenda tu pr\xF3xima cita ahora!"),r()())}function Pt(i,t){if(i&1){let e=M();c(0,"button",16),f("click",function(){m(e);let n=d().$implicit,s=d(2);return u(s.cancelarCita(n.ID_Cita))}),a(1," Cancelar Cita "),r()}}function St(i,t){i&1&&(c(0,"button",17),a(1," Cancelar Cita "),r())}function Dt(i,t){i&1&&(c(0,"span",18),a(1,"Cita cancelada"),r())}function kt(i,t){if(i&1&&(c(0,"div",7)(1,"div",8)(2,"div",9)(3,"span",10),a(4),r(),c(5,"span",11),a(6),r()(),c(7,"p")(8,"strong"),a(9,"Fecha:"),r(),a(10),$(11,"date"),r(),c(12,"p")(13,"strong"),a(14,"Hora:"),r(),a(15),$(16,"slice"),r(),c(17,"p")(18,"strong"),a(19,"M\xE9dico:"),r(),a(20),r()(),c(21,"div",12),b(22,Pt,2,0,"button",13)(23,St,2,0,"button",14)(24,Dt,2,0,"span",15),r()()),i&2){let e=t.$implicit,o=d(2);l(4),x(e.Servicio),l(),p("ngClass",Ue(17,wt,e.Estado!=="Cancelada",e.Estado==="Cancelada")),l(),V(" ",e.Estado," "),l(4),V(" ",ae(11,10,e.Fecha_Cita,"fullDate")),l(5),V(" ",Be(16,13,e.Hora_Cita,0,5)," hrs"),l(5),He(" Dr(a). ",e.Nombre_Medico," ",e.Apellidos_Medico||""),l(2),p("ngIf",o.canCancel(e)),l(),p("ngIf",e.Estado!=="Cancelada"&&!o.canCancel(e)),l(),p("ngIf",e.Estado==="Cancelada")}}function Vt(i,t){if(i&1&&(c(0,"div"),b(1,yt,3,0,"div",1)(2,kt,25,20,"div",6),r()),i&2){let e=d();l(),p("ngIf",e.citas.length===0),l(),p("ngForOf",e.citas)}}var _e=class i{constructor(t,e){this.http=t;this.auth=e}apiUrl="https://consultorio-backend-production-9816.up.railway.app";citas=[];loading=!0;error=null;ngOnInit(){this.cargarCitas()}cargarCitas(){this.loading=!0,this.error=null,this.auth.getAccessTokenSilently().pipe(z(t=>{let e={Authorization:`Bearer ${t}`};return this.http.get(`${this.apiUrl}/api/citas/mis-citas`,{headers:e})}),N(t=>(console.error("Error al cargar citas:",t),this.error="No se pudieron cargar las citas. Aseg\xFArate de estar logueado y tener un perfil de Paciente.",this.loading=!1,D([])))).subscribe({next:t=>{this.citas=t.sort((e,o)=>{if(e.Estado==="Cancelada"&&o.Estado!=="Cancelada")return 1;if(e.Estado!=="Cancelada"&&o.Estado==="Cancelada")return-1;let n=this.parseFechaHora(e.Fecha_Cita,e.Hora_Cita).getTime(),s=this.parseFechaHora(o.Fecha_Cita,o.Hora_Cita).getTime();return n-s}),this.loading=!1}})}parseFechaHora(t,e=""){if(!t)return new Date(NaN);e=e.replace(/hrs?/i,"").trim();let o=e.match(/(\d{1,2}):(\d{2})(\s*[ap]m)?/i),n=o?o[3]?.toLowerCase().includes("p")&&+o[1]<12?+o[1]+12:o[3]?.toLowerCase().includes("a")&&+o[1]==12?0:+o[1]:0,s=o?+o[2]:0,g=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(g)return new Date(+g[1],+g[2]-1,+g[3],n,s);if(g=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/),g)return new Date(+g[3],+g[2]-1,+g[1],n,s);let P={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11,enero:0,febrero:1,marzo:2,abril:3,mayo:4,junio:5,julio:6,agosto:7,septiembre:8,octubre:9,noviembre:10,diciembre:11};if(t=t.replace(/^[A-Za-z]+,\s*/,"").trim(),g=t.match(/([A-Za-záéíóúñ]+)\s+(\d{1,2}),?\s+(\d{4})/i),g&&P[g[1].toLowerCase()]!=null)return new Date(+g[3],P[g[1].toLowerCase()],+g[2],n,s);let w=Date.parse(`${t} ${e}`);return isNaN(w)?new Date(NaN):new Date(w)}canCancel(t){if(t.Estado==="Cancelada")return!1;let e=new Date(t.Fecha_Cita);e.setHours(0,0,0,0);let o=new Date;o.setHours(0,0,0,0);let n=e.getTime()-o.getTime();return Math.ceil(n/(1e3*60*60*24))>7}cancelarCita(t){confirm("\xBFEst\xE1s seguro de que deseas cancelar esta cita? Esta acci\xF3n no se puede deshacer.")&&this.auth.getAccessTokenSilently().pipe(z(e=>{let o={Authorization:`Bearer ${e}`};return this.http.post(`${this.apiUrl}/api/citas/cancelar/${t}`,{},{headers:o})}),N(e=>(console.error("Error al cancelar:",e),alert("Error al cancelar la cita: "+(e.error?.error||"No se pudo cancelar.")),D(null)))).subscribe({next:e=>{e&&(alert(e.message),this.cargarCitas())}})}static \u0275fac=function(e){return new(e||i)(j(Q),j(R))};static \u0275cmp=S({type:i,selectors:[["app-mis-citas"]],decls:6,vars:3,consts:[[1,"citas-listado"],["class","mensaje-info",4,"ngIf"],["class","mensaje-error",4,"ngIf"],[4,"ngIf"],[1,"mensaje-info"],[1,"mensaje-error"],["class","cita-card",4,"ngFor","ngForOf"],[1,"cita-card"],[1,"cita-info"],[1,"cita-header"],[1,"servicio-nombre"],[1,"cita-estado",3,"ngClass"],[1,"cita-acciones"],["class","btn-cancelar","type","button",3,"click",4,"ngIf"],["class","btn-no-cancelar","disabled","","type","button",4,"ngIf"],["class","cancelada-msg",4,"ngIf"],["type","button",1,"btn-cancelar",3,"click"],["disabled","","type","button",1,"btn-no-cancelar"],[1,"cancelada-msg"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"p"),a(2,"Las cancelaciones deber\xE1n registrarse en el sistema con un m\xEDnimo de 7 d\xEDas de anticipaci\xF3n a la cita."),r(),b(3,Et,2,0,"div",1)(4,Ot,2,1,"div",2)(5,Vt,3,2,"div",3),r()),e&2&&(l(3),p("ngIf",o.loading),l(),p("ngIf",o.error),l(),p("ngIf",!o.loading&&!o.error))},dependencies:[A,Ye,ce,H,se,Ke,Ze],styles:["[_ngcontent-%COMP%]:root{--color-azul-principal: #337ab7;--color-fondo-claro: #f5f7fa;--color-texto: #333;--color-cancelada: #dc3545;--color-confirmada: #28a745;--radius: 8px}.citas-listado[_ngcontent-%COMP%]{padding:15px}.citas-listado[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-azul-principal);margin-bottom:25px;border-bottom:2px solid var(--color-fondo-claro);padding-bottom:10px}.cita-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;border:1px solid #d0dbe6;padding:20px;border-radius:var(--radius);margin-bottom:15px;box-shadow:0 2px 4px #0000000d}.servicio-nombre[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;color:var(--color-azul-principal)}.cita-estado[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;font-size:.85em;font-weight:600;color:#fff}.cita-estado.confirmada[_ngcontent-%COMP%]{background-color:var(--color-confirmada)}.cita-estado.cancelada[_ngcontent-%COMP%]{background-color:var(--color-cancelada)}.cita-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:var(--color-texto)}.cita-acciones[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.cita-acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:background-color .2s}.btn-cancelar[_ngcontent-%COMP%]{background-color:var(--color-cancelada);color:#9a1414;border:1px solid var(--color-cancelada)}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333;color:#fff}.btn-no-cancelar[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#999;border:1px solid #ccc;cursor:not-allowed}.cancelada-msg[_ngcontent-%COMP%]{color:var(--color-cancelada);font-weight:600}.mensaje-info[_ngcontent-%COMP%], .mensaje-error[_ngcontent-%COMP%]{text-align:center;padding:15px;border-radius:var(--radius);margin:20px 0;font-size:1em}.mensaje-info[_ngcontent-%COMP%]{background-color:#e9f5fe;color:var(--color-azul-principal)}.mensaje-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:var(--color-cancelada)}@media (max-width: 600px){.cita-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cita-acciones[_ngcontent-%COMP%]{margin-top:15px}}"]})};function Tt(i,t){if(i&1){let e=M();c(0,"div",3)(1,"p",4),a(2,"Selecciona la acci\xF3n que deseas realizar:"),r(),c(3,"div",5)(4,"div",6),f("click",function(){m(e);let n=d();return u(n.selectView("agendar"))}),c(5,"div",7)(6,"h3"),a(7,"\u{1F4C5} Agendar Nueva Cita"),r()(),c(8,"p"),a(9,"Busca disponibilidad y reserva tu pr\xF3xima consulta."),r()(),c(10,"div",6),f("click",function(){m(e);let n=d();return u(n.selectView("mis-citas"))}),c(11,"div",7)(12,"h3"),a(13,"\u{1F4CB} Mis Citas"),r()(),c(14,"p"),a(15,"Consulta tus citas agendadas y realiza cancelaciones."),r()()()()}}function Nt(i,t){i&1&&(c(0,"div",15),a(1," Cargando servicios o no hay servicios disponibles. "),r())}function At(i,t){if(i&1){let e=M();c(0,"div",16),f("click",function(){let n=m(e).$implicit,s=d(3);return u(s.seleccionarServicio(n))}),c(1,"h4"),a(2),r(),c(3,"p"),a(4),r(),c(5,"div",17)(6,"span"),a(7),r(),c(8,"span",18),a(9),$(10,"number"),r()()()}if(i&2){let e=t.$implicit;l(2),x(e.Nombre),l(2),x(e.Descripcion),l(3),V("\u{1F552} ",e.Duracion," min"),l(2),V("$",ae(10,4,e.Costo,"1.2-2"))}}function Ft(i,t){if(i&1&&(c(0,"div",11)(1,"h3"),a(2,"Selecciona el Servicio que deseas agendar"),r(),b(3,Nt,2,0,"div",12),c(4,"div",13),b(5,At,11,7,"div",14),r()()),i&2){let e=d(2);l(3),p("ngIf",e.servicios.length===0),l(2),p("ngForOf",e.servicios)}}function Rt(i,t){if(i&1&&(c(0,"option",29),a(1),r()),i&2){let e=t.$implicit,o=d(3);p("value",e.ID_Medico),l(),V(" ",o.getNombreCompletoMedico(e)," ")}}function zt(i,t){i&1&&(c(0,"div",30)(1,"p"),a(2,"\u{1F446} Por favor, selecciona un m\xE9dico para ver la disponibilidad de fechas y horarios."),r()())}function jt(i,t){if(i&1&&(c(0,"div",44),a(1),r()),i&2){let e=t.$implicit;l(),x(e)}}function Lt(i,t){if(i&1){let e=M();c(0,"div",45),f("click",function(){let n=m(e).$implicit,s=d(4);return u(s.seleccionarDia(n))}),a(1),r()}if(i&2){let e=t.$implicit;C("dia-otro-mes",!e.esDelMesActual)("dia-seleccionado",e.estaSeleccionado)("dia-disponible",e.estaDisponible&&e.esDelMesActual)("dia-no-disponible",!e.estaDisponible||!e.esDelMesActual)("dia-hoy",e.esHoy),l(),V(" ",e.numero," ")}}function Wt(i,t){i&1&&(c(0,"h4"),a(1,"Selecciona un d\xEDa en el calendario."),r())}function Ht(i,t){if(i&1&&(c(0,"h4"),a(1),r()),i&2){let e=d(4);l(),V("Horas disponibles para ",e.getFormattedSelectedDate())}}function Ut(i,t){if(i&1){let e=M();c(0,"button",46),f("click",function(){let n=m(e).$implicit,s=d(4);return u(s.seleccionarHora(n))}),a(1),r()}if(i&2){let e=t.$implicit,o=d(4);C("selected",e===o.selectedHour)("disabled",!o.isHoraDisponible(e)),p("disabled",!o.isHoraDisponible(e)),l(),V(" ",e," ")}}function Bt(i,t){if(i&1){let e=M();c(0,"button",47),f("click",function(){m(e);let n=d(4);return u(n.pasoActual=3)}),a(1," Continuar \u2192 "),r()}}function qt(i,t){if(i&1){let e=M();c(0,"div",31)(1,"div",32)(2,"div",33)(3,"button",34),f("click",function(){m(e);let n=d(3);return u(n.previousMonth())}),a(4,"\u2190"),r(),c(5,"h4",35),a(6),r(),c(7,"button",34),f("click",function(){m(e);let n=d(3);return u(n.nextMonth())}),a(8,"\u2192"),r()(),c(9,"div",36),b(10,jt,2,1,"div",37),r(),c(11,"div",38),b(12,Lt,2,11,"div",39),r()(),c(13,"div",40),b(14,Wt,2,0,"h4",2)(15,Ht,2,1,"h4",2),c(16,"div",41),b(17,Ut,2,6,"button",42),r(),b(18,Bt,2,0,"button",43),r()()}if(i&2){let e=d(3);l(3),p("disabled",!e.canNavigateToPrevious()),l(3),x(e.getCurrentMonthYear()),l(),p("disabled",!e.canNavigateToNext()),l(3),p("ngForOf",e.diasSemana),l(2),p("ngForOf",e.diasCalendario),l(2),p("ngIf",!e.selectedDate),l(),p("ngIf",e.selectedDate),l(2),p("ngForOf",e.horasDisponibles),l(),p("ngIf",e.selectedDate&&e.selectedHour)}}function $t(i,t){if(i&1){let e=M();c(0,"div",11)(1,"div",19)(2,"button",20),f("click",function(){m(e);let n=d(2);return u(n.pasoActual=1)}),a(3,"\u2190 Volver"),r(),c(4,"h3"),a(5,"Servicio Seleccionado: "),c(6,"strong"),a(7),r()()(),c(8,"div",21)(9,"label",22)(10,"span",23),a(11,"\u{1F468}\u200D\u2695\uFE0F"),r(),a(12," Selecciona el M\xE9dico: "),r(),c(13,"select",24),y("ngModelChange",function(n){m(e);let s=d(2);return O(s.idMedicoSeleccionado,n)||(s.idMedicoSeleccionado=n),u(n)}),f("change",function(){m(e);let n=d(2);return u(n.onMedicoDropdownChange())}),c(14,"option",25),a(15,"-- Elige un m\xE9dico --"),r(),b(16,Rt,2,2,"option",26),r()(),b(17,zt,3,0,"div",27)(18,qt,19,9,"div",28),r()}if(i&2){let e=d(2);l(7),x(e.nombreServicioSeleccionado),l(6),E("ngModel",e.idMedicoSeleccionado),l(),p("value",null),l(2),p("ngForOf",e.medicos),l(),p("ngIf",!e.idMedicoSeleccionado),l(),p("ngIf",e.idMedicoSeleccionado)}}function Yt(i,t){if(i&1){let e=M();c(0,"div",11)(1,"div",19)(2,"button",20),f("click",function(){m(e);let n=d(2);return u(n.pasoActual=2)}),a(3,"\u2190 Modificar"),r(),c(4,"h3"),a(5,"Confirma tu Cita"),r()(),c(6,"div",48)(7,"p",49)(8,"strong"),a(9,"Servicio:"),r(),c(10,"span"),a(11),r()(),c(12,"p",49)(13,"strong"),a(14,"M\xE9dico:"),r(),c(15,"span"),a(16),r()(),c(17,"p",49)(18,"strong"),a(19,"Fecha:"),r(),c(20,"span"),a(21),r()(),c(22,"p",49)(23,"strong"),a(24,"Hora:"),r(),c(25,"span"),a(26),r()()(),c(27,"div",50)(28,"label",51),a(29,"Notas o comentarios para el m\xE9dico (Opcional):"),r(),c(30,"textarea",52),y("ngModelChange",function(n){m(e);let s=d(2);return O(s.notasCita,n)||(s.notasCita=n),u(n)}),r()(),c(31,"button",53),f("click",function(){m(e);let n=d(2);return u(n.confirmarCita())}),a(32," Confirmar y Agendar "),r()()}if(i&2){let e=d(2);l(11),x(e.nombreServicioSeleccionado),l(5),x(e.nombreMedicoSeleccionado),l(5),x(e.getFormattedSelectedDate()),l(5),x(e.selectedHour),l(4),E("ngModel",e.notasCita)}}function Gt(i,t){if(i&1){let e=M();c(0,"div")(1,"button",8),f("click",function(){m(e);let n=d();return u(n.volverASeleccion())}),a(2,"\u2190 Volver a Selecci\xF3n"),r(),c(3,"div",9)(4,"span"),a(5,"1. Servicio"),r(),c(6,"span"),a(7,"2. M\xE9dico, Fecha y Hora"),r(),c(8,"span"),a(9,"3. Confirmaci\xF3n"),r()(),b(10,Ft,6,2,"div",10)(11,$t,19,6,"div",10)(12,Yt,33,5,"div",10),r()}if(i&2){let e=d();l(4),C("active",e.pasoActual>=1),l(2),C("active",e.pasoActual>=2),l(2),C("active",e.pasoActual>=3),l(2),p("ngIf",e.pasoActual===1),l(),p("ngIf",e.pasoActual===2),l(),p("ngIf",e.pasoActual===3)}}function Zt(i,t){if(i&1){let e=M();c(0,"div")(1,"button",8),f("click",function(){m(e);let n=d();return u(n.volverASeleccion())}),a(2,"\u2190 Volver a Selecci\xF3n"),r(),K(3,"app-mis-citas"),r()}}var he=class i{constructor(t,e){this.http=t;this.auth=e}apiUrl="https://consultorio-backend-production-9816.up.railway.app";currentView="selection";selectedDate=null;selectedHour=null;pasoActual=1;medicos=[];idMedicoSeleccionado=null;nombreMedicoSeleccionado="";servicios=[];idServicioSeleccionado=null;nombreServicioSeleccionado="";horasOcupadas=[];notasCita="";currentMonth=new Date;diasCalendario=[];diasSemana=["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"];horasDisponibles=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];ngOnInit(){this.cargarServicios(),this.generarCalendario()}selectView(t){this.currentView=t,t==="agendar"&&(this.cargarServicios(),this.resetearFlujo())}volverASeleccion(){this.currentView="selection",this.resetearFlujo()}cargarMedicos(t){this.http.get(`${this.apiUrl}/api/medicos/servicio/${t}`).subscribe({next:e=>{this.medicos=e},error:e=>{console.error("Error al cargar m\xE9dicos:",e)}})}cargarServicios(){this.http.get(`${this.apiUrl}/api/servicios`).subscribe({next:t=>{this.servicios=t},error:t=>{console.error("Error al cargar servicios:",t)}})}seleccionarServicio(t){this.idServicioSeleccionado=t.ID_Servicio,this.nombreServicioSeleccionado=t.Nombre,this.cargarMedicos(t.ID_Servicio),this.pasoActual=2}onMedicoDropdownChange(){let t=this.medicos.find(e=>e.ID_Medico===Number(this.idMedicoSeleccionado));t&&(this.nombreMedicoSeleccionado=`Dr(a). ${t.Nombre} ${t.Apellidos}`,this.selectedDate&&this.getHorasOcupadas(Number(this.idMedicoSeleccionado),this.selectedDate),this.selectedHour=null)}getNombreCompletoMedico(t){return`Dr(a). ${t.Nombre} ${t.Apellidos}`}previousMonth(){this.canNavigateToPrevious()&&(this.currentMonth.setMonth(this.currentMonth.getMonth()-1),this.generarCalendario())}nextMonth(){this.canNavigateToNext()&&(this.currentMonth.setMonth(this.currentMonth.getMonth()+1),this.generarCalendario())}canNavigateToPrevious(){let t=new Date(this.currentMonth);t.setMonth(t.getMonth()-1);let e=new Date;return e.setDate(1),e.setHours(0,0,0,0),t>=e}canNavigateToNext(){let t=new Date(this.currentMonth);t.setMonth(t.getMonth()+1);let e=new Date;return e.setMonth(e.getMonth()+6),t<=e}getCurrentMonthYear(){return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][this.currentMonth.getMonth()]} ${this.currentMonth.getFullYear()}`}getFormattedSelectedDate(){if(!this.selectedDate)return"";let t=this.selectedDate,e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("es-ES",e)}generarCalendario(){this.diasCalendario=[];let t=new Date;t.setHours(0,0,0,0);let e=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),1),o=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+1,0),n=e.getDay();for(let s=0;s<n;s++){let g=new Date(e);g.setDate(e.getDate()-(n-s)),this.diasCalendario.push({numero:g.getDate(),fecha:g,esDelMesActual:!1,esHoy:!1,estaSeleccionado:!1,estaDisponible:!1})}for(let s=1;s<=o.getDate();s++){let g=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth(),s);g.setHours(0,0,0,0);let P=g.getTime()===t.getTime(),w=g>=t&&g.getDay()!==0;this.diasCalendario.push({numero:s,fecha:g,esDelMesActual:!0,esHoy:P,estaSeleccionado:!1,estaDisponible:w})}for(let s=1;this.diasCalendario.length<42;s++){let g=new Date(o);g.setDate(o.getDate()+s),this.diasCalendario.push({numero:g.getDate(),fecha:g,esDelMesActual:!1,esHoy:!1,estaSeleccionado:!1,estaDisponible:!1})}}getHorasOcupadas(t,e){let o=e.toISOString().split("T")[0];this.http.get(`${this.apiUrl}/api/citas/disponibilidad/${t}/${o}`).subscribe({next:n=>{this.horasOcupadas=n.horas_ocupadas.map(s=>s.hora)},error:n=>{console.error("Error al cargar disponibilidad:",n),this.horasOcupadas=[]}})}seleccionarDia(t){this.pasoActual===2&&(!t.esDelMesActual||!t.estaDisponible||(this.diasCalendario.forEach(e=>e.estaSeleccionado=!1),t.estaSeleccionado=!0,this.selectedDate=t.fecha,this.selectedHour=null,this.selectedDate&&this.idMedicoSeleccionado&&this.getHorasOcupadas(Number(this.idMedicoSeleccionado),this.selectedDate)))}seleccionarHora(t){this.selectedHour=t}isHoraDisponible(t){if(this.horasOcupadas.includes(t))return!1;if(this.selectedDate){let e=new Date;e.setHours(0,0,0,0);let o=new Date(this.selectedDate);if(o.setHours(0,0,0,0),o.getTime()===e.getTime()){let n=new Date,[s,g]=t.split(":"),P=new Date;P.setHours(parseInt(s),parseInt(g),0,0);let w=new Date(n.getTime()+3600*1e3);if(P<=w)return!1}}return!0}confirmarCita(){if(!this.selectedDate||!this.selectedHour||!this.idServicioSeleccionado||!this.idMedicoSeleccionado){console.error("Faltan datos para confirmar la cita."),alert("Por favor, completa todos los pasos antes de confirmar.");return}let t={fecha:this.selectedDate.toISOString().split("T")[0],hora:this.selectedHour+":00",id_servicio:this.idServicioSeleccionado,id_medico:this.idMedicoSeleccionado,notas:this.notasCita};this.auth.getAccessTokenSilently().pipe(z(e=>{let o={Authorization:`Bearer ${e}`};return this.http.post(`${this.apiUrl}/api/citas/agendar`,t,{headers:o})}),N(e=>(console.error("Error al agendar:",e),alert("Error: "+(e.error?.error||"No se pudo agendar la cita.")),D(null)))).subscribe({next:e=>{e&&(alert(`Cita agendada exitosamente. ID: ${e.id_cita}`),this.resetearFlujo(),this.currentView="selection")}})}resetearFlujo(){this.pasoActual=1,this.selectedDate=null,this.selectedHour=null,this.idMedicoSeleccionado=null,this.nombreMedicoSeleccionado="",this.idServicioSeleccionado=null,this.nombreServicioSeleccionado="",this.notasCita="",this.horasOcupadas=[],this.generarCalendario()}static \u0275fac=function(e){return new(e||i)(j(Q),j(R))};static \u0275cmp=S({type:i,selectors:[["app-calendario"]],decls:6,vars:3,consts:[[1,"calendario-container"],["class","opcion-selection",4,"ngIf"],[4,"ngIf"],[1,"opcion-selection"],[1,"subtitle"],[1,"opcion-cards"],[1,"opcion-card",3,"click"],[1,"opcion-icon"],["type","button",1,"btn-back",3,"click"],[1,"progress-bar"],["class","paso-card",4,"ngIf"],[1,"paso-card"],["class","loading-message",4,"ngIf"],[1,"servicios-grid"],["class","tarjeta-servicio",3,"click",4,"ngFor","ngForOf"],[1,"loading-message"],[1,"tarjeta-servicio",3,"click"],[1,"servicio-info"],[1,"costo"],[1,"header-paso"],[1,"btn-back",3,"click"],[1,"medico-selector"],["for","selectMedico"],[1,"icon"],["id","selectMedico",1,"medico-dropdown",3,"ngModelChange","change","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","info-message",4,"ngIf"],["class","seleccion-fecha-hora",4,"ngIf"],[3,"value"],[1,"info-message"],[1,"seleccion-fecha-hora"],[1,"calendario-columna"],[1,"calendario-header"],["type","button",1,"nav-button",3,"click","disabled"],[1,"mes-a\xF1o"],[1,"dias-semana"],["class","dia-semana",4,"ngFor","ngForOf"],[1,"dias-grid"],["class","dia-celda",3,"dia-otro-mes","dia-seleccionado","dia-disponible","dia-no-disponible","dia-hoy","click",4,"ngFor","ngForOf"],[1,"horas-columna"],[1,"horas-grid"],["type","button",3,"selected","disabled","click",4,"ngFor","ngForOf"],["class","btn-continuar","type","button",3,"click",4,"ngIf"],[1,"dia-semana"],[1,"dia-celda",3,"click"],["type","button",3,"click","disabled"],["type","button",1,"btn-continuar",3,"click"],[1,"cita-resumen-final"],[1,"resumen-item"],[1,"notas-container"],["for","notasCita"],["id","notasCita","rows","3","placeholder","Ej: Es mi primera visita.",3,"ngModelChange","ngModel"],["type","button",1,"btn-confirmar-final",3,"click"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"h2"),a(2,"Gesti\xF3n de Citas"),r(),b(3,Tt,16,0,"div",1)(4,Gt,13,9,"div",2)(5,Zt,4,0,"div",2),r()),e&2&&(l(3),p("ngIf",o.currentView==="selection"),l(),p("ngIf",o.currentView==="agendar"),l(),p("ngIf",o.currentView==="mis-citas"))},dependencies:[X,ue,ge,le,me,de,pe,A,ce,H,se,_e,Je],styles:["[_ngcontent-%COMP%]:root{--color-texto: #333;--color-texto-secundario: #666;--color-borde: #d0dbe6;--color-deshabilitado: #e9ecef;--color-confirmacion: var(--color-azul-principal);--radius: 12px}.calendario-container[_ngcontent-%COMP%]{max-width:950px;margin:40px auto;padding:30px;background-color:#fff;border-radius:var(--radius);box-shadow:0 10px 30px #00000014;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h2[_ngcontent-%COMP%]{color:#337ab7;text-align:center;margin-bottom:30px;font-weight:600}h3[_ngcontent-%COMP%]{color:#333;margin-top:0;margin-bottom:20px;font-weight:500;border-bottom:1px solid #d0dbe6;padding-bottom:10px}.progress-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px;color:#666;font-weight:500;font-size:.9em}.progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px;border-bottom:3px solid #d0dbe6;transition:all .3s}.progress-bar[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#337ab7;border-color:#337ab7;font-weight:600}.paso-card[_ngcontent-%COMP%]{background-color:#f5f7fa;padding:25px;border-radius:var(--radius);border:1px solid #d0dbe6;margin-bottom:20px}.header-paso[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.header-paso[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:20px;border-bottom:none;padding-bottom:0}.btn-back[_ngcontent-%COMP%]{background:none;border:1px solid #d0dbe6;color:#666;padding:8px 15px;border-radius:8px;cursor:pointer;transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.servicios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.tarjeta-servicio[_ngcontent-%COMP%]{padding:20px;border:2px solid #d0dbe6;border-radius:10px;cursor:pointer;transition:all .2s;background-color:#fff}.tarjeta-servicio[_ngcontent-%COMP%]:hover{border-color:#5c9cd6;box-shadow:0 4px 15px #00000014;transform:translateY(-1px)}.tarjeta-servicio-seleccionada[_ngcontent-%COMP%]{border-color:#337ab7;background-color:#c2e0f8;box-shadow:0 4px 15px #337ab733}.tarjeta-servicio[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#337ab7;font-size:1.1em;margin-top:0;margin-bottom:10px}.tarjeta-servicio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9em;margin-bottom:15px;min-height:40px}.servicio-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.95em;font-weight:600}.servicio-info[_ngcontent-%COMP%]   .costo[_ngcontent-%COMP%]{color:#337ab7}.seleccion-fecha-hora[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr;gap:25px}.calendario-columna[_ngcontent-%COMP%]{padding:15px;border-right:1px solid #d0dbe6}.horas-columna[_ngcontent-%COMP%]{padding:15px 0 15px 15px}.calendario-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.mes-a\\f1o[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;color:#337ab7}.nav-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2em;cursor:pointer;color:#337ab7;transition:opacity .2s}.nav-button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.dias-semana[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-weight:600;color:#337ab7;margin-bottom:10px;font-size:.9em}.dias-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:3px}.dia-celda[_ngcontent-%COMP%]{aspect-ratio:1 / 1;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:.9em;cursor:pointer;transition:all .2s}.dia-otro-mes[_ngcontent-%COMP%], .dia-no-disponible[_ngcontent-%COMP%]{color:#666;opacity:.5;cursor:not-allowed}.dia-disponible[_ngcontent-%COMP%]{color:color-texto;font-weight:500}.dia-disponible[_ngcontent-%COMP%]:hover{background-color:#c2e0f8;color:color-texto}.dia-hoy[_ngcontent-%COMP%]{border:2px solid #337ab7;font-weight:700}.dia-seleccionado[_ngcontent-%COMP%]{background-color:#337ab7!important;color:#fff!important;font-weight:700;box-shadow:0 2px 5px #337ab766}.horas-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;padding:10px 0;max-height:350px;overflow-y:auto}.horas-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#337ab7;border:1px solid #c2e0f8;padding:8px 15px;border-radius:8px;cursor:pointer;transition:all .2s;font-weight:500}.horas-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#c2e0f8;border-color:#337ab7}.horas-grid[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#337ab7;color:#fff;border-color:var(--color-azul-principal);font-weight:600}.horas-grid[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{background-color:#e9ecef;color:#999;border-color:#ccc;cursor:not-allowed;text-decoration:none}.btn-continuar[_ngcontent-%COMP%]{background-color:#5c9cd6;color:#fff;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;transition:background-color .2s;font-size:1em;margin-top:20px;width:100%;font-weight:600}.btn-continuar[_ngcontent-%COMP%]:hover{background-color:#337ab7}.medico-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;font-size:1.1rem;color:#2c3e50;margin-bottom:.75rem}.medico-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.3rem;margin-right:.5rem}.medico-dropdown[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;font-size:1rem;border:2px solid #ddd;border-radius:8px;background-color:#fff;cursor:pointer;transition:all .3s ease}.medico-dropdown[_ngcontent-%COMP%]:hover{border-color:#0f217a}.medico-dropdown[_ngcontent-%COMP%]:focus{outline:none;border-color:#164d80;box-shadow:0 0 0 3px #4caf501a}.medico-dropdown[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem}.info-message[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #2196F3;padding:1rem 1.5rem;margin:1.5rem 0;border-radius:8px}.info-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-size:1rem}.seleccion-fecha-hora[_ngcontent-%COMP%]{margin-top:2rem}.cita-resumen-final[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border-radius:8px;border:1px solid #d0dbe6;display:flex;justify-content:space-between;margin-bottom:10px;font-size:1.1em}.cita-resumen-final[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#337ab7}.notas-container[_ngcontent-%COMP%]{margin-top:20px}.notas-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:8px;color:color-texto}.notas-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #d0dbe6;border-radius:8px;resize:vertical;font-family:inherit}.btn-confirmar-final[_ngcontent-%COMP%]{display:block;width:100%;padding:15px;background-color:#337ab7;color:#000;border:none;border-radius:8px;font-size:1.1em;cursor:pointer;transition:background-color .2s;margin-top:25px;font-weight:600}.btn-confirmar-final[_ngcontent-%COMP%]:hover{background-color:#2a6496}@media (max-width: 768px){.calendario-container[_ngcontent-%COMP%]{margin:20px;padding:15px}.seleccion-fecha-hora[_ngcontent-%COMP%]{grid-template-columns:1fr}.calendario-columna[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #d0dbe6;margin-bottom:15px}.horas-columna[_ngcontent-%COMP%]{padding-left:0}.servicios-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var xe=class i{constructor(t,e){this.auth=t;this.router=e}onLogin(){this.auth.loginWithRedirect({authorizationParams:{prompt:"login"}})}onRegister(){this.auth.loginWithRedirect({authorizationParams:{screen_hint:"signup"}})}static \u0275fac=function(e){return new(e||i)(j(R),j(F))};static \u0275cmp=S({type:i,selectors:[["app-login"]],decls:12,vars:0,consts:[[1,"login-page"],[1,"login-container"],[1,"login-form"],["type","button",1,"login-btn",3,"click"],[1,"register-link"],[1,"login-image"],["src","/images/logdental.jpg","alt","Sonrisas Felices",1,"main-image"]],template:function(e,o){e&1&&(_(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),a(4,"Bienvenido a "),q(5,"br"),a(6," Sonrisas Felices"),h(),_(7,"button",3),We("click",function(){return o.onLogin()}),a(8," Ingresar "),h(),q(9,"div",4),h(),_(10,"div",5),q(11,"img",6),h()()())},dependencies:[A,X,ot],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f8f9fa;padding:0}.login-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr;width:100%;height:100vh;background:#fff;box-shadow:none;border-radius:0}.login-form[_ngcontent-%COMP%]{padding:60px 50px;display:flex;flex-direction:column;justify-content:center}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a1a1a;margin-bottom:40px;line-height:1.3}.form[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#333;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 20px;border:1px solid #e0e0e0;border-radius:50px;font-size:15px;transition:all .3s ease;outline:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4a90e2;box-shadow:0 0 0 3px #4a90e21a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}.login-btn[_ngcontent-%COMP%]{width:100%;padding:14px 20px;background:linear-gradient(135deg,#d4e8f7,#b8d9f0);color:#2c5f8d;border:none;border-radius:50px;font-size:16px;font-weight:600;cursor:pointer;margin-top:10px;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#c0dff5,#a0cde8);transform:translateY(-2px);box-shadow:0 5px 15px #4a90e233}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:24px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:underline;transition:color .3s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4a90e2}.login-image[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#bbdefb);display:flex;align-items:center;justify-content:center;padding:40px;position:relative}.main-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (max-width: 968px){.login-container[_ngcontent-%COMP%]{grid-template-columns:1fr;height:auto;min-height:100vh}.login-image[_ngcontent-%COMP%]{display:none}.login-form[_ngcontent-%COMP%]{padding:40px 30px}}@media (max-width: 480px){.login-form[_ngcontent-%COMP%]{padding:30px 20px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:30px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-btn[_ngcontent-%COMP%]{padding:12px 18px}}"]})};var ve=class i{auth=v(R);router=v(F);api=v(Y);ngOnInit(){this.auth.isAuthenticated$.subscribe(t=>{t&&this.checkUserRoleAndRedirect()})}checkUserRoleAndRedirect(){this.api.getRole().subscribe({next:t=>{if(!t){console.error("No se pudo obtener el rol del usuario"),this.router.navigate(["/login"]);return}switch(console.log("Rol del usuario:",t.role),t.role){case"Medico":this.router.navigate(["/dashboard-medico"]);break;case"Paciente":this.router.navigate(["/home"]);break;case"no_profile":this.router.navigate(["/onboarding"]);break;default:this.router.navigate(["/login"])}},error:t=>{console.error("Error al verificar el rol:",t),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-callback"]],decls:4,vars:0,consts:[[1,"callback-container"],[1,"spinner"]],template:function(e,o){e&1&&(_(0,"div",0),q(1,"div",1),_(2,"p"),a(3,"Redirigiendo..."),h()())},dependencies:[A],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;font-family:Arial,sans-serif;background:linear-gradient(135deg,#a8d0ff,#81bcfc);color:#fff}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}p[_ngcontent-%COMP%]{font-size:1.2em;margin:0}"]})};var Ce=class i{constructor(t){this.http=t}verificarCedula(t,e,o){let n="http://localhost:3000/api/verificar-cedula";return console.log("\u{1F50D} Verificando c\xE9dula con backend:",{cedula:t,nombre:e,apellidos:o}),this.http.post(n,{cedula:t,nombre:e,apellidos:o}).pipe(k(s=>(console.log("\u{1F4E1} Respuesta del backend:",s),s)),N(s=>(console.error("\u274C Error al verificar con backend:",s),D({isValid:!1,error:"Error al conectar con el servidor. Verifica que el backend est\xE9 corriendo."}))))}verificarCedulaSEP(t,e,o){let s=[{cedula:"12345678",nombre:"JUAN",apellidos:"PEREZ LOPEZ",profesion:"CIRUJANO DENTISTA",institucion:"UNIVERSIDAD NACIONAL"},{cedula:"11111111",nombre:"MARIA",apellidos:"GARCIA RODRIGUEZ",profesion:"MEDICO CIRUJANO",institucion:"UNAM"},{cedula:"99999999",nombre:"ANGEL",apellidos:"ROME DEMO",profesion:"CIRUJANO DENTISTA",institucion:"UAA"}].find(w=>w.cedula===t);if(s)return console.log("\u2705 Usando c\xE9dula de prueba:",s),D({isValid:!0,data:{nombre:s.nombre,apellidos:s.apellidos,cedula:s.cedula,profesion:s.profesion,institucion:s.institucion,fechaExpedicion:"2020-01-01"}});let g=`${e} ${o} ${t}`,P=`https://search.sep.gob.mx/solr/cedulasCore/select?fl=*,score&q=${encodeURIComponent(g)}&start=0&rows=10&facet=true&indent=on&wt=json`;return console.log("\u{1F50D} Consultando SEP con:",{cedula:t,nombre:e,apellidos:o,url:P}),this.http.jsonp(P,"json.wrf").pipe(k(w=>{console.log("\u{1F4E1} Respuesta de la SEP:",w);let I=w?.response?.docs||[];if(console.log("\u{1F4C4} Documentos encontrados:",I.length),I.length===0)return{isValid:!1,error:"No se encontr\xF3 la c\xE9dula profesional en el registro de la SEP"};let T=I.find(Ie=>(console.log("Comparando:",Ie.cedula,"con",t),Ie.cedula?.toLowerCase()===t.toLowerCase()));return T?(console.log("\u2705 Coincidencia encontrada:",T),{isValid:!0,data:{nombre:T.nombre||"",apellidos:(T.paterno+" "+T.materno).trim()||"",cedula:T.cedula,profesion:T.titulo||"",institucion:T.institucion||"",fechaExpedicion:T.fechaExpedicion||""}}):(console.log("\u274C No se encontr\xF3 coincidencia exacta"),{isValid:!1,error:"La c\xE9dula no coincide con el nombre proporcionado"})}),N(w=>(console.error("\u274C Error al verificar c\xE9dula:",w),D({isValid:!1,error:"Error al consultar el servicio de verificaci\xF3n. Intenta m\xE1s tarde."}))))}verificarCedulaAPIPago(t){let e="TU_API_KEY_AQUI",o="https://api.consultaunica.mx/v1/cedula-profesional",n=new Xe({Authorization:`Bearer ${e}`,"Content-Type":"application/json"});return this.http.post(o,{cedula:t},{headers:n}).pipe(k(s=>s.success&&s.data?{isValid:!0,data:{nombre:s.data.nombre,apellidos:s.data.apellidos,cedula:s.data.cedula,profesion:s.data.profesion,institucion:s.data.institucion,fechaExpedicion:s.data.fecha_expedicion}}:{isValid:!1,error:"C\xE9dula no encontrada en el registro oficial"}),N(s=>D({isValid:!1,error:"Error al verificar la c\xE9dula"})))}verificarCedulaBackend(t,e,o){let n="http://localhost:3000/api/verificar-cedula";return console.log("\u{1F50D} Verificando c\xE9dula con backend:",{cedula:t,nombre:e,apellidos:o}),this.http.post(n,{cedula:t,nombre:e,apellidos:o}).pipe(k(s=>(console.log("\u{1F4E1} Respuesta del backend:",s),s)),N(s=>(console.error("\u274C Error al verificar con backend:",s),D({isValid:!1,error:"Error al verificar la c\xE9dula. Verifica tu conexi\xF3n."}))))}verificarCedulaManual(t){return D({isValid:!0,data:{nombre:"Demo",apellidos:"Para Desarrollo",cedula:t,profesion:"Medicina General",institucion:"Universidad Demo"}})}static \u0275fac=function(e){return new(e||i)(ne(Q))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function Kt(i,t){if(i&1){let e=M();c(0,"div",5)(1,"h2"),a(2,"\xBFC\xF3mo deseas usar la plataforma?"),r(),c(3,"div",6)(4,"div",7),f("click",function(){m(e);let n=d();return u(n.selectRole("Paciente"))}),c(5,"div",8),a(6,"\u{1F464}"),r(),c(7,"h3"),a(8,"Soy Paciente"),r(),c(9,"p"),a(10,"Busco atenci\xF3n dental y gestionar mis citas"),r()(),c(11,"div",7),f("click",function(){m(e);let n=d();return u(n.selectRole("Medico"))}),c(12,"div",8),a(13,"\u{1F468}\u200D\u2695\uFE0F"),r(),c(14,"h3"),a(15,"Soy M\xE9dico"),r(),c(16,"p"),a(17,"Quiero gestionar pacientes y consultas"),r()()()()}}function Qt(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.nombre)}}function Xt(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.sexo)}}function en(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.fechaNacimiento)}}function tn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.direccion)}}function nn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.codigoPostal)}}function on(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.ciudad)}}function rn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.ocupacion)}}function an(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.telefono)}}function cn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.correo)}}function sn(i,t){if(i&1){let e=M();c(0,"form",9),f("ngSubmit",function(){m(e);let n=d();return u(n.onSubmit())}),c(1,"h2"),a(2,"Informaci\xF3n del Paciente"),r(),c(3,"div",10)(4,"label"),a(5,"Nombre Completo *"),r(),c(6,"input",11),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.nombre,n)||(s.pacienteData.nombre=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateNombre(n.pacienteData.nombre,"nombre"))}),r(),b(7,Qt,2,1,"span",12),r(),c(8,"div",13)(9,"div",10)(10,"label"),a(11,"Sexo *"),r(),c(12,"select",14),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.sexo,n)||(s.pacienteData.sexo=n),u(n)}),f("change",function(){m(e);let n=d();return u(n.validateSexo(n.pacienteData.sexo))}),c(13,"option",15),a(14,"Seleccionar"),r(),c(15,"option",16),a(16,"Masculino"),r(),c(17,"option",17),a(18,"Femenino"),r()(),b(19,Xt,2,1,"span",12),r(),c(20,"div",10)(21,"label"),a(22,"Fecha de Nacimiento *"),r(),c(23,"input",18),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.fechaNacimiento,n)||(s.pacienteData.fechaNacimiento=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateFechaNacimiento(n.pacienteData.fechaNacimiento))}),r(),b(24,en,2,1,"span",12),r()(),c(25,"div",10)(26,"label"),a(27,"Direcci\xF3n *"),r(),c(28,"input",19),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.direccion,n)||(s.pacienteData.direccion=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateDireccion(n.pacienteData.direccion))}),r(),b(29,tn,2,1,"span",12),r(),c(30,"div",13)(31,"div",10)(32,"label"),a(33,"C\xF3digo Postal *"),r(),c(34,"input",20),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.codigoPostal,n)||(s.pacienteData.codigoPostal=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateCodigoPostal(n.pacienteData.codigoPostal))}),r(),b(35,nn,2,1,"span",12),r(),c(36,"div",10)(37,"label"),a(38,"Ciudad *"),r(),c(39,"input",21),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.ciudad,n)||(s.pacienteData.ciudad=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateNombre(n.pacienteData.ciudad,"ciudad"))}),r(),b(40,on,2,1,"span",12),r()(),c(41,"div",10)(42,"label"),a(43,"Ocupaci\xF3n"),r(),c(44,"input",22),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.ocupacion,n)||(s.pacienteData.ocupacion=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.pacienteData.ocupacion&&n.validateNombre(n.pacienteData.ocupacion,"ocupacion"))}),r(),b(45,rn,2,1,"span",12),r(),c(46,"div",13)(47,"div",10)(48,"label"),a(49,"Tel\xE9fono *"),r(),c(50,"input",23),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.telefono,n)||(s.pacienteData.telefono=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateTelefono(n.pacienteData.telefono))}),r(),b(51,an,2,1,"span",12),r(),c(52,"div",10)(53,"label"),a(54,"Correo *"),r(),c(55,"input",24),y("ngModelChange",function(n){m(e);let s=d();return O(s.pacienteData.correo,n)||(s.pacienteData.correo=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateCorreo(n.pacienteData.correo))}),r(),b(56,cn,2,1,"span",12),r()(),c(57,"div",25)(58,"button",26),f("click",function(){m(e);let n=d();return u(n.selectedRole=null)}),a(59,"Atr\xE1s"),r(),c(60,"button",27),a(61),r()()()}if(i&2){let e=d();l(6),C("error",e.errors.nombre),E("ngModel",e.pacienteData.nombre),l(),p("ngIf",e.errors.nombre),l(5),C("error",e.errors.sexo),E("ngModel",e.pacienteData.sexo),l(7),p("ngIf",e.errors.sexo),l(4),C("error",e.errors.fechaNacimiento),E("ngModel",e.pacienteData.fechaNacimiento),l(),p("ngIf",e.errors.fechaNacimiento),l(4),C("error",e.errors.direccion),E("ngModel",e.pacienteData.direccion),l(),p("ngIf",e.errors.direccion),l(5),C("error",e.errors.codigoPostal),E("ngModel",e.pacienteData.codigoPostal),l(),p("ngIf",e.errors.codigoPostal),l(4),C("error",e.errors.ciudad),E("ngModel",e.pacienteData.ciudad),l(),p("ngIf",e.errors.ciudad),l(4),C("error",e.errors.ocupacion),E("ngModel",e.pacienteData.ocupacion),l(),p("ngIf",e.errors.ocupacion),l(5),C("error",e.errors.telefono),E("ngModel",e.pacienteData.telefono),l(),p("ngIf",e.errors.telefono),l(4),C("error",e.errors.correo),E("ngModel",e.pacienteData.correo),l(),p("ngIf",e.errors.correo),l(2),p("disabled",e.isSubmitting),l(2),p("disabled",e.isSubmitting),l(),V(" ",e.isSubmitting?"Registrando...":"Registrar Perfil"," ")}}function ln(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.nombre)}}function dn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.apellidos)}}function pn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.telefono)}}function mn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.correo)}}function un(i,t){i&1&&(c(0,"span"),a(1,"\u{1F50D} Verificar"),r())}function gn(i,t){i&1&&(c(0,"span"),a(1,"\u23F3 Verificando..."),r())}function fn(i,t){i&1&&(c(0,"span"),a(1,"\u2705 Verificada"),r())}function _n(i,t){i&1&&(c(0,"span",38),a(1,"\u2713 C\xE9dula verificada con la SEP"),r())}function bn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.cedula)}}function hn(i,t){i&1&&(c(0,"span",39),a(1," Debes verificar tu c\xE9dula profesional con la SEP "),r())}function xn(i,t){if(i&1&&(c(0,"span",28),a(1),r()),i&2){let e=d(2);l(),x(e.errors.experiencia)}}function vn(i,t){if(i&1){let e=M();c(0,"form",9),f("ngSubmit",function(){m(e);let n=d();return u(n.onSubmit())}),c(1,"h2"),a(2,"Informaci\xF3n del M\xE9dico"),r(),c(3,"div",13)(4,"div",10)(5,"label"),a(6,"Nombre *"),r(),c(7,"input",11),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.nombre,n)||(s.medicoData.nombre=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateNombre(n.medicoData.nombre,"nombre"))}),r(),b(8,ln,2,1,"span",12),r(),c(9,"div",10)(10,"label"),a(11,"Apellidos *"),r(),c(12,"input",29),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.apellidos,n)||(s.medicoData.apellidos=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateNombre(n.medicoData.apellidos,"apellidos"))}),r(),b(13,dn,2,1,"span",12),r()(),c(14,"div",13)(15,"div",10)(16,"label"),a(17,"Tel\xE9fono *"),r(),c(18,"input",23),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.telefono,n)||(s.medicoData.telefono=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateTelefono(n.medicoData.telefono))}),r(),b(19,pn,2,1,"span",12),r(),c(20,"div",10)(21,"label"),a(22,"Correo *"),r(),c(23,"input",24),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.correo,n)||(s.medicoData.correo=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateCorreo(n.medicoData.correo))}),r(),b(24,mn,2,1,"span",12),r()(),c(25,"div",13)(26,"div",30)(27,"label"),a(28,"C\xE9dula Profesional *"),r(),c(29,"div",31)(30,"input",32),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.cedula,n)||(s.medicoData.cedula=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateCedula(n.medicoData.cedula))}),r(),c(31,"button",33),f("click",function(){m(e);let n=d();return u(n.verificarCedulaProfesional())}),b(32,un,2,0,"span",34)(33,gn,2,0,"span",34)(34,fn,2,0,"span",34),r()(),b(35,_n,2,0,"span",35)(36,bn,2,1,"span",12)(37,hn,2,0,"span",36),r(),c(38,"div",10)(39,"label"),a(40,"A\xF1os de Experiencia *"),r(),c(41,"input",37),y("ngModelChange",function(n){m(e);let s=d();return O(s.medicoData.experiencia,n)||(s.medicoData.experiencia=n),u(n)}),f("blur",function(){m(e);let n=d();return u(n.validateExperiencia(n.medicoData.experiencia))}),r(),b(42,xn,2,1,"span",12),r()(),c(43,"div",25)(44,"button",26),f("click",function(){m(e);let n=d();return u(n.selectedRole=null)}),a(45,"Atr\xE1s"),r(),c(46,"button",27),a(47),r()()()}if(i&2){let e=d();l(7),C("error",e.errors.nombre),E("ngModel",e.medicoData.nombre),l(),p("ngIf",e.errors.nombre),l(4),C("error",e.errors.apellidos),E("ngModel",e.medicoData.apellidos),l(),p("ngIf",e.errors.apellidos),l(5),C("error",e.errors.telefono),E("ngModel",e.medicoData.telefono),l(),p("ngIf",e.errors.telefono),l(4),C("error",e.errors.correo),E("ngModel",e.medicoData.correo),l(),p("ngIf",e.errors.correo),l(6),C("error",e.errors.cedula)("verified",e.cedulaVerified),E("ngModel",e.medicoData.cedula),l(),C("verified",e.cedulaVerified),p("disabled",e.isVerifyingCedula||e.cedulaVerified||!e.medicoData.cedula),l(),p("ngIf",!e.isVerifyingCedula&&!e.cedulaVerified),l(),p("ngIf",e.isVerifyingCedula),l(),p("ngIf",e.cedulaVerified),l(),p("ngIf",e.cedulaVerified),l(),p("ngIf",e.errors.cedula),l(),p("ngIf",!e.cedulaVerified&&!e.errors.cedula),l(4),C("error",e.errors.experiencia),E("ngModel",e.medicoData.experiencia),l(),p("ngIf",e.errors.experiencia),l(2),p("disabled",e.isSubmitting),l(2),p("disabled",e.isSubmitting),l(),V(" ",e.isSubmitting?"Registrando...":"Registrar Perfil"," ")}}var Me=class i{api=v(Y);router=v(F);auth=v(R);cedulaService=v(Ce);selectedRole=null;isSubmitting=!1;isVerifyingCedula=!1;cedulaVerified=!1;medicoData={nombre:"",apellidos:"",telefono:"",correo:"",cedula:"",experiencia:0};pacienteData={nombre:"",sexo:"",fechaNacimiento:"",direccion:"",codigoPostal:"",ciudad:"",ocupacion:"",telefono:"",correo:""};errors={};ngOnInit(){document.body.classList.add("hide-layout"),this.auth.user$.subscribe(t=>{t?.email&&(this.medicoData.correo=t.email,this.pacienteData.correo=t.email)})}selectRole(t){this.selectedRole=t,this.errors={},this.cedulaVerified=!1}validateNombre(t,e){let o=/^[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ\s]+$/;return!t||t.trim().length===0?(this.errors[e]="Este campo es obligatorio",!1):t.length<2||t.length>50?(this.errors[e]="Debe tener entre 2 y 50 caracteres",!1):o.test(t)?(delete this.errors[e],!0):(this.errors[e]="Solo se permiten letras, espacios y acentos",!1)}validateTelefono(t){let e=/^\d{10}$/;return t?e.test(t)?(delete this.errors.telefono,!0):(this.errors.telefono="Debe contener exactamente 10 d\xEDgitos",!1):(this.errors.telefono="El tel\xE9fono es obligatorio",!1)}validateCorreo(t){let e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t?t.length>100?(this.errors.correo="El correo no puede exceder 100 caracteres",!1):e.test(t)?(delete this.errors.correo,!0):(this.errors.correo="Formato de correo inv\xE1lido",!1):(this.errors.correo="El correo es obligatorio",!1)}validateCedula(t){let e=/^[a-zA-Z0-9]+$/;return t?t.length<5||t.length>10?(this.errors.cedula="Debe tener entre 5 y 10 caracteres",!1):e.test(t)?(delete this.errors.cedula,!0):(this.errors.cedula="Solo se permiten letras y n\xFAmeros",!1):(this.errors.cedula="La c\xE9dula profesional es obligatoria",!1)}validateExperiencia(t){return t==null?(this.errors.experiencia="Los a\xF1os de experiencia son obligatorios",!1):t<0||t>60?(this.errors.experiencia="Debe estar entre 0 y 60 a\xF1os",!1):(delete this.errors.experiencia,!0)}validateCodigoPostal(t){let e=/^\d{5}$/;return t?e.test(t)?(delete this.errors.codigoPostal,!0):(this.errors.codigoPostal="Debe contener exactamente 5 d\xEDgitos",!1):(this.errors.codigoPostal="El c\xF3digo postal es obligatorio",!1)}validateFechaNacimiento(t){return t?new Date(t)>new Date?(this.errors.fechaNacimiento="La fecha no puede ser futura",!1):(delete this.errors.fechaNacimiento,!0):(this.errors.fechaNacimiento="La fecha de nacimiento es obligatoria",!1)}validateDireccion(t){return!t||t.trim().length===0?(this.errors.direccion="La direcci\xF3n es obligatoria",!1):t.length<5||t.length>100?(this.errors.direccion="Debe tener entre 5 y 100 caracteres",!1):(delete this.errors.direccion,!0)}validateSexo(t){return t?(delete this.errors.sexo,!0):(this.errors.sexo="El sexo es obligatorio",!1)}verificarCedulaProfesional(){if(this.validateCedula(this.medicoData.cedula)){if(!this.validateNombre(this.medicoData.nombre,"nombre")||!this.validateNombre(this.medicoData.apellidos,"apellidos")){alert("Por favor completa el nombre y apellidos antes de verificar la c\xE9dula");return}this.isVerifyingCedula=!0,this.cedulaVerified=!1,delete this.errors.cedula,this.cedulaService.verificarCedula(this.medicoData.cedula,this.medicoData.nombre,this.medicoData.apellidos).subscribe({next:t=>{this.isVerifyingCedula=!1,t.isValid&&t.data?(this.cedulaVerified=!0,alert(`\u2705 C\xE9dula verificada correctamente

Profesi\xF3n: ${t.data.profesion}
Instituci\xF3n: ${t.data.institucion}`),t.data.nombre&&t.data.apellidos&&confirm("\xBFDeseas usar los datos registrados en la SEP?")&&(this.medicoData.nombre=t.data.nombre,this.medicoData.apellidos=t.data.apellidos)):(this.errors.cedula=t.error||"No se pudo verificar la c\xE9dula",alert("\u274C "+this.errors.cedula+`

Por favor verifica que:
- La c\xE9dula sea correcta
- El nombre y apellidos coincidan con el registro
- El registro est\xE9 actualizado en la SEP`))},error:t=>{this.isVerifyingCedula=!1,this.errors.cedula="Error al verificar la c\xE9dula. Intenta nuevamente.",console.error("Error en verificaci\xF3n de c\xE9dula:",t)}})}}validateMedicoForm(){let t=!0;return t=this.validateNombre(this.medicoData.nombre,"nombre")&&t,t=this.validateNombre(this.medicoData.apellidos,"apellidos")&&t,t=this.validateTelefono(this.medicoData.telefono)&&t,t=this.validateCorreo(this.medicoData.correo)&&t,t=this.validateCedula(this.medicoData.cedula)&&t,t=this.validateExperiencia(this.medicoData.experiencia)&&t,this.cedulaVerified||(this.errors.cedula="Debes verificar tu c\xE9dula profesional antes de continuar",t=!1),t}validatePacienteForm(){let t=!0;return t=this.validateNombre(this.pacienteData.nombre,"nombre")&&t,t=this.validateSexo(this.pacienteData.sexo)&&t,t=this.validateFechaNacimiento(this.pacienteData.fechaNacimiento)&&t,t=this.validateDireccion(this.pacienteData.direccion)&&t,t=this.validateCodigoPostal(this.pacienteData.codigoPostal)&&t,t=this.validateNombre(this.pacienteData.ciudad,"ciudad")&&t,t=this.validateTelefono(this.pacienteData.telefono)&&t,t=this.validateCorreo(this.pacienteData.correo)&&t,this.pacienteData.ocupacion&&(t=this.validateNombre(this.pacienteData.ocupacion,"ocupacion")&&t),t}onSubmit(){if(!this.selectedRole){alert("Por favor selecciona un rol");return}if(this.isSubmitting)return;if(!(this.selectedRole==="Medico"?this.validateMedicoForm():this.validatePacienteForm())){alert("Por favor corrige los errores en el formulario");return}let e=this.selectedRole==="Medico"?this.medicoData:this.pacienteData;this.isSubmitting=!0,this.api.registerProfile(this.selectedRole,e).subscribe({next:o=>{console.log("Perfil registrado:",o),this.selectedRole==="Medico"?this.router.navigate(["/dashboard-medico"]):this.router.navigate(["/home"])},error:o=>{console.error("Error al registrar perfil:",o),alert("Error al registrar el perfil. Por favor intenta de nuevo."),this.isSubmitting=!1}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-onboarding"]],decls:9,vars:3,consts:[[1,"onboarding-container"],[1,"onboarding-card"],[1,"subtitle"],["class","role-selection",4,"ngIf"],["class","profile-form",3,"ngSubmit",4,"ngIf"],[1,"role-selection"],[1,"role-cards"],[1,"role-card",3,"click"],[1,"role-icon"],[1,"profile-form",3,"ngSubmit"],[1,"form-group"],["type","text","name","nombre","required","",3,"ngModelChange","blur","ngModel"],["class","error-message",4,"ngIf"],[1,"form-row"],["name","sexo","required","",3,"ngModelChange","change","ngModel"],["value",""],["value","M"],["value","F"],["type","date","name","fechaNacimiento","required","",3,"ngModelChange","blur","ngModel"],["type","text","name","direccion","required","",3,"ngModelChange","blur","ngModel"],["type","text","name","codigoPostal","maxlength","5","required","",3,"ngModelChange","blur","ngModel"],["type","text","name","ciudad","required","",3,"ngModelChange","blur","ngModel"],["type","text","name","ocupacion",3,"ngModelChange","blur","ngModel"],["type","tel","name","telefono","maxlength","10","placeholder","10 d\xEDgitos","required","",3,"ngModelChange","blur","ngModel"],["type","email","name","correo","readonly","","required","",3,"ngModelChange","blur","ngModel"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"],["type","text","name","apellidos","required","",3,"ngModelChange","blur","ngModel"],[1,"form-group","cedula-group"],[1,"cedula-input-wrapper"],["type","text","name","cedula","maxlength","10","placeholder","5-10 caracteres","required","",3,"ngModelChange","blur","ngModel"],["type","button",1,"btn-verify-cedula",3,"click","disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],["class","help-text",4,"ngIf"],["type","number","name","experiencia","min","0","max","60","required","",3,"ngModelChange","blur","ngModel"],[1,"success-message"],[1,"help-text"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Completa tu Perfil"),r(),c(4,"p",2),a(5,"Para brindarte la mejor experiencia, necesitamos saber m\xE1s sobre ti"),r(),b(6,Kt,18,0,"div",3)(7,sn,62,39,"form",4)(8,vn,48,37,"form",4),r()()),e&2&&(l(6),p("ngIf",!o.selectedRole),l(),p("ngIf",o.selectedRole==="Paciente"),l(),p("ngIf",o.selectedRole==="Medico"))},dependencies:[A,H,X,st,ue,ge,le,lt,me,de,at,mt,ut,pt,dt,pe,ct],styles:[".onboarding-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#66baea,#6bc9ff);padding:20px}.onboarding-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:40px;max-width:800px;width:100%;box-shadow:0 20px 60px #0000004d}.onboarding-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:10px;font-size:2em}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:40px}.role-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:30px}.role-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:20px}.role-card[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:15px;padding:30px;text-align:center;cursor:pointer;transition:all .3s ease}.role-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001a;border-color:#007bff}.role-icon[_ngcontent-%COMP%]{font-size:4em;margin-bottom:15px}.role-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.role-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9em}.profile-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:30px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e9ecef;border-radius:8px;font-size:1em;transition:border-color .3s;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-top:30px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 30px;border:none;border-radius:8px;font-size:1em;font-weight:600;cursor:pointer;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0056b3,#007bff);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#dee2e6}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.onboarding-card[_ngcontent-%COMP%]{padding:20px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#fff5f5}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354540}.error-message[_ngcontent-%COMP%]{display:block;color:#dc3545;font-size:.875rem;margin-top:.25rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background-color:#f8f9fa;cursor:not-allowed;opacity:.7}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]:focus{background-color:#f8f9fa;border-color:#ced4da;box-shadow:none}.cedula-group[_ngcontent-%COMP%]{position:relative}.cedula-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.cedula-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.cedula-input-wrapper[_ngcontent-%COMP%]   input.verified[_ngcontent-%COMP%]{border-color:#28a745;background-color:#f0fff4}.btn-verify-cedula[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.875rem;font-weight:500;white-space:nowrap;transition:all .3s ease;min-width:120px}.btn-verify-cedula[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3;transform:translateY(-1px);box-shadow:0 2px 4px #0003}.btn-verify-cedula[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed;opacity:.6}.btn-verify-cedula.verified[_ngcontent-%COMP%]{background-color:#28a745;cursor:default}.btn-verify-cedula.verified[_ngcontent-%COMP%]:hover{background-color:#28a745;transform:none}.success-message[_ngcontent-%COMP%]{display:block;color:#28a745;font-size:.875rem;margin-top:.25rem;font-weight:500}.help-text[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:.8rem;margin-top:.25rem;font-style:italic}"]})};var Z=class i{auth=v(R);router=v(F);api=v(Y);canActivate(){return this.auth.isAuthenticated$.pipe(W(1),z(t=>t?this.api.getRole().pipe(k(e=>e?!0:(this.router.navigate(["/login"]),!1)),N(()=>(this.router.navigate(["/login"]),D(!1)))):(this.router.navigate(["/login"]),D(!1))))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})},ee=class i{api=v(Y);router=v(F);canActivate(){return this.api.getRole().pipe(W(1),k(t=>t&&t.role==="Medico"?!0:(console.warn("Acceso denegado: Usuario no es m\xE9dico"),this.router.navigate(["/home"]),!1)),N(t=>(console.error("Error al verificar rol de m\xE9dico:",t),this.router.navigate(["/login"]),D(!1))))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})},we=class i{api=v(Y);router=v(F);canActivate(){return this.api.getRole().pipe(W(1),k(t=>t&&t.role==="Paciente"?!0:t&&t.role==="Medico"?(console.warn("Acceso denegado: Usuario es m\xE9dico, no paciente"),this.router.navigate(["/dashboard-medico"]),!1):(this.router.navigate(["/login"]),!1)),N(t=>(console.error("Error al verificar rol de paciente:",t),this.router.navigate(["/login"]),D(!1))))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};var ht=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:xe},{path:"nosotros",component:fe},{path:"callback",component:ve},{path:"home",loadComponent:()=>import("./chunk-LXYSMAAM.js").then(i=>i.Home)},{path:"onboarding",component:Me,canActivate:[Z]},{path:"citas",component:he,canActivate:[Z,we]},{path:"dashboard-medico",loadComponent:()=>import("./chunk-EHPZXCSR.js").then(i=>i.DashboardMedicoComponent),canActivate:[Z,ee]},{path:"citas-medico",component:gt,canActivate:[Z,ee]},{path:"historial-clinico/:idPaciente",loadComponent:()=>import("./chunk-5N6MDBI3.js").then(i=>i.HistorialClinico),canActivate:[Z,ee]},{path:"**",redirectTo:"/home"}];var Ve="Service workers are disabled or not supported by this browser",te=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new oe(o=>o.error(new J(5601,!1)));else{let o=null,n=new re;this.worker=new oe(I=>(o!==null&&I.next(o),n.subscribe(T=>I.next(T))));let s=()=>{let{controller:I}=t;I!==null&&(o=I,n.next(o))};t.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(z(()=>t.getRegistration().then(I=>{if(!I)throw new J(5601,!1);return I})));let g=new re;this.events=g.asObservable();let P=I=>{let{data:T}=I;T?.type&&g.next(T)};t.addEventListener("message",P),e?.get(Se,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",s),t.removeEventListener("message",P)})}}postMessage(t,e){return new Promise(o=>{this.worker.pipe(W(1)).subscribe(n=>{n.postMessage(Te({action:t},e)),o()})})}postMessageWithOperation(t,e,o){let n=this.waitForOperationCompleted(o),s=this.postMessage(t,e);return Promise.all([s,n]).then(([,g])=>g)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=o=>o.type===t:e=o=>t.includes(o.type),this.events.pipe(Pe(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(W(1))}waitForOperationCompleted(t){return new Promise((e,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Pe(n=>n.nonce===t),W(1),k(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:e,error:o})})}get isEnabled(){return!!this.serviceWorker}},Cn=(()=>{class i{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new re;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=B,this.notificationClicks=B,this.notificationCloses=B,this.pushSubscriptionChanges=B,this.subscription=B;return}this.messages=this.sw.eventsOfType("PUSH").pipe(k(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(k(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(k(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(k(n=>n.data)),this.pushManager=this.sw.registration.pipe(k(n=>n.pushManager));let o=this.pushManager.pipe(z(n=>n.getSubscription()));this.subscription=new oe(n=>{let s=o.subscribe(n),g=this.subscriptionChanges.subscribe(n);return()=>{s.unsubscribe(),g.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ve));let o={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let g=0;g<n.length;g++)s[g]=n.charCodeAt(g);return o.applicationServerKey=s,new Promise((g,P)=>{this.pushManager.pipe(z(w=>w.subscribe(o)),W(1)).subscribe({next:w=>{this.subscriptionChanges.next(w),g(w)},error:P})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ve));let e=o=>{if(o===null)throw new J(5602,!1);return o.unsubscribe().then(n=>{if(!n)throw new J(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((o,n)=>{this.subscription.pipe(W(1),z(e)).subscribe({next:o,error:n})})}decodeBase64(e){return atob(e)}static \u0275fac=function(o){return new(o||i)(ne(te))};static \u0275prov=U({token:i,factory:i.\u0275fac})}return i})(),Mn=(()=>{class i{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=B,this.unrecoverable=B;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ve));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new J(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(o){return new(o||i)(ne(te))};static \u0275prov=U({token:i,factory:i.\u0275fac})}return i})();var vt=new Ae("");function wn(){let i=v(ie);if(!("serviceWorker"in navigator&&i.enabled!==!1))return;let t=v(vt),e=v(je),o=v(Se);e.runOutsideAngular(()=>{let n=navigator.serviceWorker,s=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",s),o.onDestroy(()=>{n.removeEventListener("controllerchange",s)})}),e.runOutsideAngular(()=>{let n,{registrationStrategy:s}=i;if(typeof s=="function")n=new Promise(g=>s().subscribe(()=>g()));else{let[g,...P]=(s||"registerWhenStable:30000").split(":");switch(g){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=xt(+P[0]||0);break;case"registerWhenStable":n=Promise.race([o.whenStable(),xt(+P[0])]);break;default:throw new J(5600,!1)}}n.then(()=>{o.destroyed||navigator.serviceWorker.register(t,{scope:i.scope,updateViaCache:i.updateViaCache,type:i.type}).catch(g=>console.error(Ne(5604,!1)))})})}function xt(i){return new Promise(t=>setTimeout(t,i))}function En(i,t){return new te(i.enabled!==!1?navigator.serviceWorker:void 0,t)}var ie=class{enabled;updateViaCache;type;scope;registrationStrategy};function Ct(i,t={}){return Fe([Cn,Mn,{provide:vt,useValue:i},{provide:ie,useValue:t},{provide:te,useFactory:En,deps:[ie,Re]},Le(wn)])}var Mt={providers:[ze(),qe({eventCoalescing:!0}),it(ht),ke(),ke(et()),rt({domain:"dev-7iloabq8ips3sdq0.us.auth0.com",clientId:"gGOlcbSQY0q460XDOEGqOZu6DOB1MA8j",authorizationParams:{redirect_uri:`${window.location.origin}/callback`,audience:"https://dev-7iloabq8ips3sdq0.us.auth0.com/api/v2/"},cacheLocation:"localstorage",useRefreshTokens:!0}),Ct("ngsw-worker.js",{enabled:!$e(),registrationStrategy:"registerWhenStable:30000"})]};function On(i,t){if(i&1){let e=M();c(0,"a",12),f("click",function(){m(e);let n=d();return u(n.login())}),a(1," \u{1F464} "),r()}}function yn(i,t){if(i&1){let e=M();c(0,"a",13),f("click",function(){m(e);let n=d();return u(n.logout())}),a(1," Cerrar Sesi\xF3n "),r()}}function Pn(i,t){if(i&1){let e=M();c(0,"div",14),f("click",function(){m(e);let n=d();return u(n.cerrarAlerta())}),c(1,"div",15),f("click",function(n){return m(e),u(n.stopPropagation())}),c(2,"div",16),a(3,"\u26A0\uFE0F"),r(),c(4,"h3",17),a(5,"Registro Requerido"),r(),c(6,"p",18),a(7," Para agendar una cita debes estar registrado en el sistema. "),r(),c(8,"div",19)(9,"button",20),f("click",function(){m(e);let n=d();return u(n.irALogin())}),a(10," Iniciar Sesi\xF3n "),r(),c(11,"button",21),f("click",function(){m(e);let n=d();return u(n.cerrarAlerta())}),a(12," Cancelar "),r()()()()}}var Ee=class i{auth=v(R);router=v(F);isAuthenticated$=this.auth.isAuthenticated$;login(){this.router.navigate(["/login"])}logout(){this.auth.logout({logoutParams:{returnTo:window.location.origin+"/login"}})}showAlert=!1;navegarACitas(){this.auth.isAuthenticated$.subscribe(t=>{t?this.router.navigate(["/citas"]):this.showAlert=!0})}cerrarAlerta(){this.showAlert=!1}irALogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-navbar"]],decls:21,vars:7,consts:[[1,"navbar"],[1,"navbar-container"],["href","home",1,"nav-link"],[1,"navbar-brand"],[1,"navbar-logo"],[1,"navbar-title"],[1,"navbar-nav"],["href","nosotros",1,"nav-link"],[1,"nav-link",3,"click"],["class","nav-link login-btn",3,"click",4,"ngIf"],["class","nav-link logout-btn",3,"click",4,"ngIf"],["class","alert-overlay",3,"click",4,"ngIf"],[1,"nav-link","login-btn",3,"click"],[1,"nav-link","logout-btn",3,"click"],[1,"alert-overlay",3,"click"],[1,"alert-modal",3,"click"],[1,"alert-icon"],[1,"alert-title"],[1,"alert-message"],[1,"alert-buttons"],[1,"btn-alert-primary",3,"click"],[1,"btn-alert-secondary",3,"click"]],template:function(e,o){e&1&&(c(0,"header",0)(1,"div",1)(2,"a",2)(3,"div",3)(4,"div",4)(5,"span"),a(6,"\u{1F9B7}"),r()(),c(7,"h1",5),a(8,"Sonrisas Felices"),r()()(),c(9,"nav",6)(10,"a",2),a(11,"Inicio"),r(),c(12,"a",7),a(13,"Nosotros"),r(),c(14,"a",8),f("click",function(){return o.navegarACitas()}),a(15,"Citas"),r(),b(16,On,2,0,"a",9),$(17,"async"),b(18,yn,2,0,"a",10),$(19,"async"),r()()(),b(20,Pn,13,0,"div",11)),e&2&&(l(16),p("ngIf",!De(17,3,o.isAuthenticated$)),l(2),p("ngIf",De(19,5,o.isAuthenticated$)),l(2),p("ngIf",o.showAlert))},dependencies:[A,H,Ge],styles:[".navbar[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-bottom:1px solid rgba(211,233,245,.3);position:sticky;top:0;z-index:50;padding:1rem 0}.navbar-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem;display:flex;align-items:center;justify-content:space-between}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.navbar-logo[_ngcontent-%COMP%]{width:2rem;height:2rem;background-color:#d3e9f5;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}.navbar-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#1f2937;margin:0}.navbar-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav-link[_ngcontent-%COMP%]{color:#6b7280;text-decoration:none;transition:color .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{color:#d3e9f5}.navbar-btn[_ngcontent-%COMP%]{background:#d3e9f5;color:#1f2937;border:none;border-radius:.5rem;padding:.5rem 1.5rem;font-weight:500;cursor:pointer;transition:background .3s ease}.navbar-btn[_ngcontent-%COMP%]:hover{background:#d3e9f5cc}@media (max-width: 768px){.navbar-nav[_ngcontent-%COMP%]{display:none}.navbar-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}}.alert-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .3s ease}.alert-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;max-width:400px;width:90%;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease;text-align:center}.alert-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.alert-title[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;font-weight:700;margin-bottom:1rem}.alert-message[_ngcontent-%COMP%]{color:#666;font-size:1rem;line-height:1.6;margin-bottom:1.5rem}.alert-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.btn-alert-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.btn-alert-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-alert-secondary[_ngcontent-%COMP%]{background:#fff;color:#666;border:2px solid #ddd;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.btn-alert-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#999}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.alert-modal[_ngcontent-%COMP%]{padding:1.5rem}.alert-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn-alert-primary[_ngcontent-%COMP%], .btn-alert-secondary[_ngcontent-%COMP%]{width:100%}}"]})};var Oe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-footer"]],decls:28,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-section"],[1,"footer-title"],[1,"footer-text"],[1,"footer-subtitle"],[1,"footer-list"],[1,"footer-bottom"]],template:function(e,o){e&1&&(_(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4,"Sonrisas Felices \u{1F9B7}"),h(),_(5,"p",4),a(6,"Tu sonrisa es nuestra prioridad..."),h()(),_(7,"div",2)(8,"h4",5),a(9,"Servicios"),h(),_(10,"ul",6)(11,"li"),a(12,"Limpieza Dental"),h(),_(13,"li"),a(14,"Blanqueamiento"),h(),_(15,"li"),a(16,"Ortodoncia"),h()()(),_(17,"div",2)(18,"h4",5),a(19,"Contacto"),h(),_(20,"p"),a(21,"\u{1F4CD} Lic. Francisco Primo Verdad 321"),h(),_(22,"p"),a(23,"\u{1F4DE} (449) 222-6937"),h(),_(24,"p"),a(25,"\u{1F4E7} sonrisasfelicesdental@outlook.com"),h()()(),_(26,"div",7),a(27," \xA9 2025 SonrisasFelices. Todos los derechos reservados. "),h()())},styles:[".footer[_ngcontent-%COMP%]{background:#f9fafb;border-top:1px solid #e5e7eb;padding:3rem 0}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem}.footer-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.5rem;color:#1f2937}.footer-subtitle[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#1f2937}.footer-text[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;line-height:1.5}.footer-list[_ngcontent-%COMP%]{list-style:none;padding:0;color:#6b7280;font-size:.875rem}.footer-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;cursor:pointer;transition:color .3s}.footer-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#3b82f6}.footer-bottom[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;margin-top:2rem;padding-top:2rem;text-align:center;color:#6b7280;font-size:.875rem}"]})};function Sn(i,t){i&1&&K(0,"app-navbar")}function Dn(i,t){i&1&&K(0,"app-footer")}var ye=class i{constructor(t){this.router=t;let e=o=>["/login","/dashboard-medico","/citas-medico","/historial-clinico","/onboarding","/callback"].some(s=>o===s||o.startsWith(s));this.isLoginPage=e(this.router.url),this.router.events.subscribe(o=>{o instanceof tt&&(this.isLoginPage=e(o.urlAfterRedirects))})}title="consultorioDental";isLoginPage;static \u0275fac=function(e){return new(e||i)(j(F))};static \u0275cmp=S({type:i,selectors:[["app-root"]],decls:5,vars:4,consts:[[1,"app-wrapper"],[4,"ngIf"]],template:function(e,o){e&1&&(c(0,"div",0),b(1,Sn,1,0,"app-navbar",1),c(2,"main"),K(3,"router-outlet"),r(),b(4,Dn,1,0,"app-footer",1),r()),e&2&&(l(),p("ngIf",!o.isLoginPage),l(),C("medico-layout",o.isLoginPage),l(2),p("ngIf",!o.isLoginPage))},dependencies:[nt,Ee,Oe,A,H],styles:["*[_ngcontent-%COMP%]{border-color:var(--border);outline-color:var(--ring)}body[_ngcontent-%COMP%]{background:var(--background);color:var(--foreground);font-size:var(--font-size);margin:0}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:var(--font-weight-medium);line-height:1.5}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:var(--font-weight-medium);line-height:1.5}h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:var(--font-weight-medium);line-height:1.5}h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:var(--font-weight-medium);line-height:1.5}p[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:1rem;font-weight:var(--font-weight-normal);line-height:1.5}button[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:1rem;font-weight:var(--font-weight-medium);line-height:1.5}"]})};Qe(ye,Mt).catch(i=>console.error(i));
